<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/data-parallelism/previews/PR40/libs/katex/katex.min.css"> <link rel=stylesheet  href="/data-parallelism/previews/PR40/libs/highlight/github.min.css"> <link rel=stylesheet  href="/data-parallelism/previews/PR40/css/franklin.css"> <link rel=stylesheet  href="/data-parallelism/previews/PR40/css/basic.css"> <link rel=icon  href="/data-parallelism/previews/PR40/assets/juliafolds-logo.ico"> <title>Parallel reductions using semidirect products</title> <header> <div class=blog-name ><a href="/data-parallelism/previews/PR40/">Data-parallel Julia</a></div> <nav> <!-- <ul> <li><a href="/data-parallelism/previews/PR40/">Home</a> <li><a href="/data-parallelism/previews/PR40/menu1/">Code blocks</a> <li><a href="/data-parallelism/previews/PR40/menu2/">More goodies</a> <li><a href="/data-parallelism/previews/PR40/menu3/">Tags</a> </ul> --> <a href="https://github.com/JuliaFolds/data-parallelism/blob/master/src/explanation/semidirect-products.md"> <img class=github-edit-small  src="https://img.shields.io/badge/-Edit-green?logo=github&style=social"> <img class=github-edit-big  src="https://img.shields.io/badge/source-Suggest%20Edit-green?logo=github&style=social"> </a> <!-- <img src="/data-parallelism/previews/PR40/assets/hamburger.svg" id=menu-icon > --> </nav> </header> <div class=franklin-content ><h1 id=parallel_reductions_using_semidirect_products ><a href="#parallel_reductions_using_semidirect_products" class=header-anchor >Parallel reductions using semidirect products</a></h1> <p>Solutions to many parallel programming problems can be reduced to a well-designed monoid<sup id="fnref:semigroup"><a href="#fndef:semigroup" class=fnref >[1]</a></sup>. As such, interesting parallel solution sometimes require non-trivial monoids. To enrich the repertoire, let us discuss <em>semidirect product</em>; a particularity elegant construction of useful monoids.</p> <div class=franklin-toc ><ol><li><a href="#maximum_depth_of_parentheses">Maximum depth of parentheses</a><li><a href="#semidirect_products_restricted_version">Semidirect products &#40;restricted version&#41;</a><li><a href="#linear_recurrence">Linear recurrence</a><li><a href="#semidirect_products_and_distributive_monoid_actions">Semidirect products and distributive monoid actions</a><li><a href="#order-preserving_unique">Order-preserving <code>unique</code></a><li><a href="#most_nested_position_of_parentheses">Most nested position of parentheses</a><li><a href="#conclusion">Conclusion</a><li><a href="#references">References</a></ol></div> <p><table class=fndef  id="fndef:semigroup"> <tr> <td class=fndef-backref ><a href="#fnref:semigroup">[1]</a> <td class=fndef-content >Here, we mainly discuss monoid and monoid actions. However, since one can always turn a semigroup into a monoid by adjoining the identity, the following discussion also applies to semigroups which is more useful than monoid in dynamic languages like Julia. </table> <div class=note ><div class=title >💡 Note</div> <div class=content >The code examples here focus on simplicity rather than the performance and actually executing them in parallel. However, it is straightforward to use exactly the same pattern and derive efficient implementations in Julia. See <a href="../../tutorials/quick-introduction/">A quick introduction to data parallelism in Julia</a> and <a href="../../tutorials/mutations/">Efficient and safe approaches to mutation in data parallelism</a> for the main ingredients required.</div></div></p> <a id=maxdepth  class=anchor ></a> <h2 id=maximum_depth_of_parentheses ><a href="#maximum_depth_of_parentheses" class=header-anchor >Maximum depth of parentheses</a></h2> <p>As a motivating example, let us compute the maximum depth of parentheses in a string. Each position of a string has an integer <em>depth</em> which is one more larger &#40;smaller&#41; than the depth of the previous position if the current character is the open parenthesis <code>&#40;</code> &#40;close parenthesis <code>&#41;</code>&#41;. Otherwise the depth is equal to the depth of the previous position. The initial depth is 0. We are interested in the maximum depth of a given string:</p> <pre><code class=language-plaintext >string    &#40;  &#40;  &#40;  &#41;  &#41;  &#40;  &#41;  &#41;
depth     1  2  3  2  1  2  1  0
                ↑
                maximum depth</code></pre> <p>The following code is a Julia program that calculates the maximum depth. It computes the depth of every position using the cumulative sum function <code>cumsum</code> and then take the <code>maximum</code> of it:</p> <pre><code class=language-julia >parentheses &#61; collect&#40;&quot;&#40;&#40;&#40;&#40;&#41;&#41;&#40;&#40;&#40;&#41;&#41;&#41;&#41; &#40;&#40;&#40;&#41;&#41;&#41;&#41;&quot;&#41;
increments &#61; ifelse.&#40;parentheses .&#61;&#61; &#39;&#40;&#39;, &#43;1, ifelse.&#40;parentheses .&#61;&#61; &#39;&#41;&#39;, -1, 0&#41;&#41;
depths &#61; cumsum&#40;increments&#41;
maximum&#40;depths&#41;</code></pre> <pre><code class=plaintext >5</code></pre>


<img src="/data-parallelism/previews/PR40/assets/explanation/semidirect-products/code/output/parentheses2.png" alt="">
<p>Both <code>cumsum</code> &#40;prefix sum&#41; and <code>maximum</code> &#40;reduce&#41; can be computed in parallel. However, it is possible to fuse these operations and compute the maximum depth in one sweep &#40;which is essential for performance&#41;. To solve this problem with single-path reduction, we need to find a small set of states &quot;just enough&quot; for combining sub-solutions obtained by solving each chunk of the input.  An important observation here is that the &quot;humps&quot; in the <code>depths</code> plot can be easily shifted up and down when combining into the result from preceding &#40;left&#41; string of parentheses. This motivates us to track the maximum and the final &#40;relative&#41; depth of a chunk of the input string. Splitting the above solution into three chunks, we get the following three sub-solutions:</p>
<img src="/data-parallelism/previews/PR40/assets/explanation/semidirect-products/code/output/parentheses3.png" alt="">
<p>Consider chunk 1 and 2.  Combining the final depths &#40;<code>d1</code> and <code>d2</code>&#41; is as easy as summing these two depths.  To combine the maximum in each chunk, we need to shift the right maximum <code>m2</code> by the final depth of the left chunk <code>d1</code> so that both maximum &quot;candidates&quot; <code>m1</code> and <code>m2</code> are compared with respect to the same reference point &#40;i.e., the beginning of the left chunk&#41;.  Thus, we get the following function for combining the solutions <code>&#40;d1, m1&#41;</code> and <code>&#40;d2, m2&#41;</code> from two consecutive chunks:</p>
<pre><code class=language-julia >function ⊗&#40;&#40;d1, m1&#41;, &#40;d2, m2&#41;&#41;
    d &#61; d1 &#43; d2           # total change in depth

    m2′ &#61; d1 &#43; m2         # shifting the maximum of the right chunk before comparison
    m &#61; max&#40;m1, m2′&#41;      # find the maximum

    return &#40;d, m&#41;
end</code></pre>
<p>Given the sub-solutions above</p>

<pre><code class=plaintext >(d1, m1) = (3, 4)
(d2, m2) = (-2, 2)
(d3, m3) = (-1, 3)
</code></pre>
<p>we can compute the final result</p>
<pre><code class=language-julia >&#40;d1, m1&#41; ⊗ &#40;d2, m2&#41; ⊗ &#40;d3, m3&#41;</code></pre>
<pre><code class=plaintext >(0, 5)</code></pre>
<p>where the second element of the tuple is the maximum depth.  As we will see in the next section, <code>⊗</code> is associative.  Thus, we can use it as the input to <code>reduce</code>. Observing singleton chunk <code>&#91;x&#93;</code> &#40;where <code>x</code> is -1, 0, or 1&#41; has the trivial solution <code>&#40;x, x&#41;</code> &#40;i.e., the last element of <code>&#91;x&#93;</code> is <code>x</code> and the maximum element of <code>&#91;x&#93;</code> is <code>x</code>&#41;, we get the single-sweep reduction to calculate the maximum depth of the parentheses:</p>
<pre><code class=language-julia >mapreduce&#40;x -&gt; &#40;x, x&#41;, ⊗, increments&#41;</code></pre>
<pre><code class=plaintext >(0, 5)</code></pre>
<p>Recall that <code>mapreduce</code> can also be computed using the left-fold <code>mapfoldl</code>.  By manually inlining the definitions of <code>mapfoldl&#40;x -&gt; &#40;x, x&#41;, ⊗, increments&#41;</code>, we also obtain the following sequential algorithm:</p>
<pre><code class=language-julia >function maxdepth_seq1&#40;increments&#41;
    d1 &#61; m1 &#61; 0
    for x in increments
        d2 &#61; m2 &#61; x

        # Inlining &#96;⊗&#96;:
        d &#61; d1 &#43; d2
        m2′ &#61; d1 &#43; m2
        m &#61; max&#40;m1, m2′&#41;

        d1 &#61; d
        m1 &#61; m
    end
    return m1
end</code></pre>
<p>Since <code>d1 &#43; d2</code> and <code>d1 &#43; m2</code> are equivalent when <code>d2 &#61; m2 &#61; x</code>, we can do &quot;manual Common Subexpression Elimination&quot; to get:</p>
<pre><code class=language-julia >function maxdepth_seq2&#40;increments&#41;
    d1 &#61; m1 &#61; 0
    for x in increments
        d1 &#61; d1 &#43; x
        m1 &#61; max&#40;m1, d1&#41;
    end
    return m1
end</code></pre>
<p>Note that this is the straightforward sequential solution to the original problem. Compilers such as Julia&#43;LLVM may be able to do this &quot;derivation&quot; as a part of optimization in may programs. It is also possible to implement this with sufficiently rich &quot;monoid combinator&quot; frameworks such as <a href="https://github.com/JuliaFolds/Transducers.jl">Transducers.jl</a> &#40;using <code>next</code> and <code>combine</code> specializations&#41;.</p>
<h2 id=semidirect_products_restricted_version ><a href="#semidirect_products_restricted_version" class=header-anchor >Semidirect products &#40;restricted version&#41;</a></h2>
<p>The structure in <code>⊗</code> of the previous section is actually very generic and applicable to many other reductions. If we replace <code>&#43;</code> with <code>*′</code> and <code>max</code> with <code>&#43;′</code>, we obtain the following higher-order function &#40;combinator&#41; <code>sdpl</code>. Let us also define a similar &quot;flipped&quot; version <code>sdpr</code>.</p>
<pre><code class=language-julia >sdpl&#40;*′, &#43;′&#41; &#61; &#40;&#40;a₁, b₁&#41;, &#40;a₂, b₂&#41;&#41; -&gt; &#40;a₁ *′ a₂, b₁ &#43;′ &#40;a₁ *′ b₂&#41;&#41;
sdpr&#40;*′, &#43;′&#41; &#61; &#40;&#40;a₁, b₁&#41;, &#40;a₂, b₂&#41;&#41; -&gt; &#40;a₁ *′ a₂, &#40;b₁ *′ a₂&#41; &#43;′ b₂&#41;</code></pre>
<p>A binary function <code>&#40;x, y&#41; -&gt; sdpl&#40;*′, &#43;′&#41;&#40;x, y&#41;</code> is associative &#40;i.e., semigroup&#41; if <code>*′</code> and <code>&#43;′</code> are both associative and <code>*′</code> is left-distributive over <code>&#43;′</code>; i.e.,</p>
<a id=eq-distl-op  class=anchor ></a>
<span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>x</mi><msup><mo>∗</mo><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><mi>y</mi><msup><mo>+</mo><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mi>z</mi><mo stretchy=false >)</mo><mo>=</mo><mo stretchy=false >(</mo><mi>x</mi><msup><mo>∗</mo><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mi>y</mi><mo stretchy=false >)</mo><msup><mo>+</mo><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><mi>x</mi><msup><mo>∗</mo><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mi>z</mi><mo stretchy=false >)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(distl-op)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\tag{distl-op}
x *&#x27; (y +&#x27; z) = (x *&#x27; y) +&#x27; (x *&#x27; z)
</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.801892em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin ><span class=mbin >∗</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin ><span class=mbin >+</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathdefault">x</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin ><span class=mbin >∗</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin ><span class=mbin >+</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathdefault">x</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin ><span class=mbin >∗</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class=mclose >)</span></span><span class=tag ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord text"><span class=mord >(</span><span class=mord ><span class=mord >d</span><span class=mord >i</span><span class=mord >s</span><span class=mord >t</span><span class=mord >l</span><span class=mord >-</span><span class=mord >o</span><span class=mord >p</span></span><span class=mord >)</span></span></span></span></span></span>
<p>Similarly, <code>sdpr&#40;*′, &#43;′&#41;</code> is associative if <code>*′</code> and <code>&#43;′</code> are both associative and <code>*′</code> is right-distributives over <code>&#43;′</code>.  See, e.g., <a href="#kogge1973">Kogge and Stone &#40;1973&#41;</a>, <a href="#blelloch1990">Blelloch &#40;1990&#41;</a>, <a href="#gorlatch1997">Gorlatch and Lengauer &#40;1997&#41;</a>, <a href="#chauhan2016">Chauhan et al. &#40;2016&#41;</a>, and <a href="#kmett2018">Kmett &#40;2018&#41;</a> for the discussion and applications on this algebraic fact &#40;or its generalized form; see below&#41;.  The monoid combinator <code>sdpl</code> of this form in particular is described in <a href="#gorlatch1997">Gorlatch and Lengauer &#40;1997&#41;</a>, including the proofs we skipped here. They described it as <em>scan-reduce composition</em> and <em>scan-scan composition</em> theorems.  As we saw in the previous section, <code>mapreduce&#40;x -&gt; &#40;x,
x&#41;, sdpl&#40;&#43;, max&#41;, increments&#41;</code> computes <code>maximum&#40;cumsum&#40;increments&#41;&#41;</code> efficiently by composing &#40;fusing&#41; the scan &#40;<code>cumsum</code>&#41; and reduce &#40;<code>maximum</code>&#41;.</p>
<p>Borrowing the terminology from group theory &#40;see <a href="https://en.wikipedia.org/wiki/Semidirect_product">Semidirect product - Wikipedia</a>&#41;, and also following <a href="#chauhan2016">Chauhan et al. &#40;2016&#41;</a>&#39;s nomenclature, let us call <code>sdpl</code> and <code>sdpr</code> the <em>semidirect products</em> although the definition above is not of its fully generalized form.</p>
<p>Other than the usual multiplication-addition pair &#40;<code>*</code>, <code>&#43;</code>&#41; and addition-max pair &#40;<code>&#43;</code>, <code>max</code>&#41; as discussed in the previous section, there are various pairs of monoids satisfying left- and/or right-distributivity property &#40;see, <a href="https://en.wikipedia.org/wiki/Distributive_property">Distributive property - Wikipedia</a>&#41;.  For example, following functions can be used with <code>sdpl</code> and <code>sdpr</code> &#40;on appropriate domain types&#41;:</p>
<table><tr><th align=right ><code>*′</code><th align=right ><code>&#43;′</code><th align=right >Example applications<tr><td align=right ><code>*</code><td align=right ><code>&#43;</code><td align=right >linear recurrence &#40;see below&#41;<tr><td align=right ><code>&#43;</code><td align=right ><code>max</code><td align=right >maximum depth of parentheses &#40;see above&#41;<tr><td align=right ><code>&#43;</code><td align=right ><code>min</code><td align=right ><tr><td align=right ><code>min</code><td align=right ><code>max</code><td align=right ><tr><td align=right ><code>max</code><td align=right ><code>min</code><td align=right ><tr><td align=right ><code>∩</code><td align=right ><code>∪</code><td align=right ><code>unique</code> &#40;see below&#41;; GEN/KILL-sets<tr><td align=right ><code>∪</code><td align=right ><code>∩</code><td align=right ></table>
<p>The <code>unique</code> example &#40;below&#41; and GEN-/KILL-sets example in <a href="#chauhan2016">Chauhan et al. &#40;2016&#41;</a> can be considered an instance of <code>sdpl&#40;∩, ∪&#41;</code> with the first monoid <code>∩</code> virtually operating on the complement sets.</p>
<h2 id=linear_recurrence ><a href="#linear_recurrence" class=header-anchor >Linear recurrence</a></h2>
<p>Semidirect product <code>sdpr&#40;*′, &#43;′&#41;</code> is a generalized from of linear recurrence equation:</p>
<a id=eq-linrec  class=anchor ></a>
<span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi>x</mi><mi>t</mi></msub><mo>=</mo><msub><mi>x</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><msub><mi>a</mi><mi>t</mi></msub><mo>+</mo><msub><mi>b</mi><mi>t</mi></msub><mspace width=2em /><mo stretchy=false >(</mo><mi>t</mi><mo>=</mo><mn>1</mn><mo separator=true >,</mo><mn>2</mn><mo separator=true >,</mo><mi mathvariant=normal >.</mi><mi mathvariant=normal >.</mi><mi mathvariant=normal >.</mi><mo separator=true >,</mo><mi>T</mi><mo stretchy=false >)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(linrec)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\tag{linrec}
x_t = x_{t-1} a_t + b_t  \qquad (t=1,2,...,T)
</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.58056em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.791661em;vertical-align:-0.208331em;"></span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.208331em;"><span></span></span></span></span></span></span><span class=mord ><span class="mord mathdefault">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:2em;"></span><span class=mopen >(</span><span class="mord mathdefault">t</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord >1</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >2</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord >.</span><span class=mord >.</span><span class=mord >.</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class=mclose >)</span></span><span class=tag ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class=mord >(</span><span class=mord ><span class=mord >l</span><span class=mord >i</span><span class=mord >n</span><span class=mord >r</span><span class=mord >e</span><span class=mord >c</span></span><span class=mord >)</span></span></span></span></span></span>
<p>given sequences <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><msub><mi>a</mi><mi>t</mi></msub><msubsup><mo stretchy=false >)</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></msubsup></mrow><annotation encoding="application/x-tex">(a_t)_{t=1}^{T}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.8413309999999999em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><msub><mi>b</mi><mi>t</mi></msub><msubsup><mo stretchy=false >)</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></msubsup></mrow><annotation encoding="application/x-tex">(b_t)_{t=1}^T</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.8413309999999999em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span></span>.  Let us use the initial condition <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x_0 = 0</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.58056em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.64444em;vertical-align:0em;"></span><span class=mord >0</span></span></span></span> for simplicity &#40;as specifying <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">x_0</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.58056em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is equivalent to specifying <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">b_1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.84444em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathdefault">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>&#41;. Indeed, <code>&#40;1, 0&#41;</code> is the identity element for the method <code>sdpr&#40;*, &#43;&#41;&#40;_::Number, _::Number&#41;</code>.  To see <code>sdpr&#40;*, &#43;&#41;</code> computes <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><msub><mi>x</mi><mi>t</mi></msub><msubsup><mo stretchy=false >)</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></msubsup></mrow><annotation encoding="application/x-tex">(x_t)_{t=1}^T</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose ><span class=mclose >)</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.8413309999999999em;"><span style="top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.24810799999999997em;"><span></span></span></span></span></span></span></span></span></span>, let us manually expand <code>foldl&#40;sdpr&#40;*, &#43;&#41;, zip&#40;as, bs&#41;; init &#61;
&#40;1, 0&#41;&#41;</code>, as we did for <code>maxdepth_seq1</code> &#40;or, alternatively, see <a href="#blelloch1990">Blelloch &#40;1990&#41;</a>&#41;:</p>
<pre><code class=language-julia >function linear_recurrence_seq1&#40;as, bs&#41;
    a₁ &#61; 1
    b₁ &#61; 0
    for &#40;a₂, b₂&#41; in zip&#40;as, bs&#41;
        # Inlining &#96;sdpr&#40;*, &#43;&#41;&#96;:
        a₁ &#61; a₁ * a₂
        b₁ &#61; b₁ * a₂ &#43; b₂
    end
    return &#40;a₁, b₁&#41;
end</code></pre>
<p>By eliminating <code>a₁</code> and renaming <code>b₁</code> to <code>x</code>, we have</p>
<pre><code class=language-julia >function linear_recurrence_seq2&#40;as, bs&#41;
    x &#61; 0
    for &#40;a, b&#41; in zip&#40;as, bs&#41;
        x &#61; x * a &#43; b
    end
    return x
end</code></pre>
<p>which computes the linear recurrence equation <a href="#eq-linrec">&#40;linrec&#41;</a>. &#40;Note: the first component <code>a₁ * a₂</code> is still required for associativity of <code>sdpr&#40;*, &#43;&#41;</code>. It keeps track of the multiplier <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∏</mo><mrow><mi>t</mi><mo>=</mo><mi>p</mi></mrow><mi>q</mi></msubsup><msub><mi>a</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\prod_{t=p}^q a_t</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.24011em;vertical-align:-0.43581800000000004em;"></span><span class=mop ><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∏</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mrel mtight">=</span><span class="mord mathdefault mtight">p</span></span></span></span><span style="top:-3.2029000000000005em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class=mord ><span class="mord mathdefault">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> for propagating the effect of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>p</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">x_{p-1}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.716668em;vertical-align:-0.286108em;"></span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> to <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>q</mi></msub></mrow><annotation encoding="application/x-tex">x_q</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.716668em;vertical-align:-0.286108em;"></span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>.&#41;</p>
<p>The above code also work when the elements in <code>as</code> and <code>bs</code> are matrices.  In particular, <code>x</code> and <code>b</code> can be &quot;row vectors.&quot; Even though Julia uses 1×n matrices for row vectors, this observation indicates that <code>a</code>s and <code>b</code>s can live in different spaces. Indeed, we will see that it is useful to &quot;disassociate&quot; the functions for <code>a₁ *′ a₂</code> and <code>b₁ *′ a₂</code>.</p>
<h2 id=semidirect_products_and_distributive_monoid_actions ><a href="#semidirect_products_and_distributive_monoid_actions" class=header-anchor >Semidirect products and distributive monoid actions</a></h2>
<p>The combinators <code>sdpl</code> and <code>sdpr</code> can be generalized to the case where <code>a</code>s and <code>b</code>s are of different types.  We can simply extend these combinators to take three functions<sup id="fnref:multipledispatch"><a href="#fndef:multipledispatch" class=fnref >[2]</a></sup> :</p>
<pre><code class=language-julia >sdpl&#40;*′, ⊳, &#43;′&#41; &#61; &#40;&#40;a₁, b₁&#41;, &#40;a₂, b₂&#41;&#41; -&gt; &#40;a₁ *′ a₂, b₁ &#43;′ &#40;a₁ ⊳ b₂&#41;&#41;
sdpr&#40;*′, ⊲, &#43;′&#41; &#61; &#40;&#40;a₁, b₁&#41;, &#40;a₂, b₂&#41;&#41; -&gt; &#40;a₁ *′ a₂, &#40;b₁ ⊲ a₂&#41; &#43;′ b₂&#41;</code></pre>
<p><table class=fndef  id="fndef:multipledispatch">
    <tr>
        <td class=fndef-backref ><a href="#fnref:multipledispatch">[2]</a>
        <td class=fndef-content >In Julia, we acn use multiple dispatch for plumbing the calls <code>a₁ *′ a₂</code> and <code>b₁ *′ a₂</code> to different implementations. However, it would require defining particular type for each pair of <code>a₁ *′ a₂</code> and <code>b₁ *′ a₂</code>.  Thus, it is more convenient to define these ternary combinators.
    
</table>
 The binary function <code>&#40;x, y&#41; -&gt; sdpl&#40;*′, ⊳, &#43;′&#41;&#40;x, y&#41;</code> is a monoid if <code>*′</code> and <code>&#43;′</code> are monoids, the function <code>⊳</code> is a left <em>monoid action</em><sup id="fnref:semigroupaction"><a href="#fndef:semigroupaction" class=fnref >[3]</a></sup>; i.e., it satisfies</p>
<a id=eq-actl  class=anchor ></a>
<span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi>a</mi><mn>1</mn></msub><mo>⊳</mo><mo stretchy=false >(</mo><msub><mi>a</mi><mn>2</mn></msub><mo>⊳</mo><mi>b</mi><mo stretchy=false >)</mo><mo>=</mo><mo stretchy=false >(</mo><msub><mi>a</mi><mn>1</mn></msub><msup><mo>∗</mo><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><msub><mi>a</mi><mn>2</mn></msub><mo stretchy=false >)</mo><mo>⊳</mo><mi>b</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(actl)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\tag{actl}
a_1 \rhd (a_2 \rhd b) = (a_1 *&#x27; a_2) \rhd b
</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69986em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathdefault">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mbin amsrm">⊳</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mbin amsrm">⊳</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin ><span class=mbin >∗</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mbin amsrm">⊳</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span><span class=tag ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord text"><span class=mord >(</span><span class=mord ><span class=mord >a</span><span class=mord >c</span><span class=mord >t</span><span class=mord >l</span></span><span class=mord >)</span></span></span></span></span></span>
<p>and it is left-<em>distributive</em> over <code>&#43;&#39;</code>; i.e.,</p>
<a id=eq-distl-act  class=anchor ></a>
<span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>a</mi><mo>⊳</mo><mo stretchy=false >(</mo><msub><mi>b</mi><mn>1</mn></msub><msup><mo>+</mo><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><msub><mi>b</mi><mn>2</mn></msub><mo stretchy=false >)</mo><mo>=</mo><mo stretchy=false >(</mo><mi>a</mi><mo>⊳</mo><msub><mi>b</mi><mn>1</mn></msub><mo stretchy=false >)</mo><msup><mo>+</mo><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><mi>a</mi><mo>⊳</mo><msub><mi>b</mi><mn>2</mn></msub><mo stretchy=false >)</mo><mi mathvariant=normal >.</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(distl-act)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\tag{distl-act}
a \rhd (b_1 +&#x27; b_2) = (a \rhd b_1) +&#x27; (a \rhd b_2).
</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.58503em;vertical-align:-0.03517em;"></span><span class="mord mathdefault">a</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mbin amsrm">⊳</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin ><span class=mbin >+</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathdefault">a</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mbin amsrm">⊳</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin ><span class=mbin >+</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathdefault">a</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mbin amsrm">⊳</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span><span class=mord >.</span></span><span class=tag ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord text"><span class=mord >(</span><span class=mord ><span class=mord >d</span><span class=mord >i</span><span class=mord >s</span><span class=mord >t</span><span class=mord >l</span><span class=mord >-</span><span class=mord >a</span><span class=mord >c</span><span class=mord >t</span></span><span class=mord >)</span></span></span></span></span></span>
<p>The first condition indicates we can either</p>
<ol>
<li><p>apply actions sequentially &#40;e.g., <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub><mo stretchy=false >(</mo><msub><mi>A</mi><mn>2</mn></msub><mi>x</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">A_1 (A_2 x)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">A</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">A</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">x</span><span class=mclose >)</span></span></span></span> where <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathdefault">A</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">A_2</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathdefault">A</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> are matrices and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> is a vector&#41; or</p>

<li><p>combine actions first and <em>then</em> apply the combined function &#40;e.g., <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><msub><mi>A</mi><mn>1</mn></msub><msub><mi>A</mi><mn>2</mn></msub><mo stretchy=false >)</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">(A_1
   A_2) x</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">A</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mord ><span class="mord mathdefault">A</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span><span class="mord mathdefault">x</span></span></span></span>&#41;.</p>

</ol>
<p>The second condition indicates that we can either</p>
<ol>
<li><p>merge the &quot;targets&quot; <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">b_1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.84444em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathdefault">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">b_2</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.84444em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathdefault">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> first &#40;e.g., <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo stretchy=false >(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><msub><mi>x</mi><mn>2</mn></msub><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">A (x_1 + x_2)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span></span></span></span> where <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> is a matrix and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">x_1</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.58056em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">x_2</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.58056em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> are vectors&#41; or</p>

<li><p>apply the actions separately and <em>then</em> merge them &#40;e.g., <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><mi>A</mi><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">A x_1 + A x_2</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord mathdefault">A</span><span class=mord ><span class="mord mathdefault">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>&#41;.</p>

</ol>
<p>These extra freedom in how to compute the result is essential in the parallel computing and is captured by the property that <code>&#40;x, y&#41; -&gt; sdpl&#40;*′, ⊳, &#43;′&#41;&#40;x, y&#41;</code> is associative.</p>
<p>If <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mo>∗</mo><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo>=</mo><mo>⊳</mo></mrow><annotation encoding="application/x-tex">*&#x27; = \rhd</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.751892em;vertical-align:0em;"></span><span class=mord ><span class=mbin >∗</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.58503em;vertical-align:-0.03517em;"></span><span class="mord amsrm">⊳</span></span></span></span>, the condition for monoid action <a href="#eq-actl">&#40;actl&#41;</a> is simply the associativity condition and the condition for left-distributivity of the monoid action <a href="#eq-distl-act">&#40;distl-act&#41;</a> is equivalent to the left-distribuity of the modnoid <a href="#eq-distl-op">&#40;distl-op&#41;</a>.</p>
<p>For <code>sdpr&#40;*′, ⊲, &#43;′&#41;</code>, the function <code>⊲</code> must be a right monoid action</p>
<a id=eq-actr  class=anchor ></a>
<span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mo stretchy=false >(</mo><mi>b</mi><mo>⊲</mo><msub><mi>a</mi><mn>1</mn></msub><mo stretchy=false >)</mo><mo>⊲</mo><msub><mi>a</mi><mn>2</mn></msub><mo>=</mo><mi>b</mi><mo>⊲</mo><mo stretchy=false >(</mo><msub><mi>a</mi><mn>1</mn></msub><msup><mo>∗</mo><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><msub><mi>a</mi><mn>2</mn></msub><mo stretchy=false >)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(actr)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\tag{actr}
(b \lhd a_1) \lhd a_2 = b \lhd (a_1 *&#x27; a_2)
</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathdefault">b</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mbin amsrm">⊲</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mbin amsrm">⊲</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.58056em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathdefault">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.72961em;vertical-align:-0.03517em;"></span><span class="mord mathdefault">b</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mbin amsrm">⊲</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin ><span class=mbin >∗</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">a</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span></span><span class=tag ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord text"><span class=mord >(</span><span class=mord ><span class=mord >a</span><span class=mord >c</span><span class=mord >t</span><span class=mord >r</span></span><span class=mord >)</span></span></span></span></span></span>
<p>that right-distributes over <code>&#43;&#39;</code></p>
<a id=eq-distr-act  class=anchor ></a>
<span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mo stretchy=false >(</mo><msub><mi>b</mi><mn>1</mn></msub><msup><mo>+</mo><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><msub><mi>b</mi><mn>2</mn></msub><mo stretchy=false >)</mo><mo>⊲</mo><mi>a</mi><mo>=</mo><mo stretchy=false >(</mo><msub><mi>b</mi><mn>1</mn></msub><mo>⊲</mo><mi>a</mi><mo stretchy=false >)</mo><msup><mo>+</mo><mo mathvariant=normal  lspace=0em  rspace=0em >′</mo></msup><mo stretchy=false >(</mo><msub><mi>b</mi><mn>2</mn></msub><mo>⊲</mo><mi>a</mi><mo stretchy=false >)</mo><mi mathvariant=normal >.</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(distr-act)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">
\tag{distr-act}
(b_1 +&#x27; b_2) \lhd a = (b_1 \lhd a) +&#x27; (b_2 \lhd a).
</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin ><span class=mbin >+</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mord ><span class="mord mathdefault">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mbin amsrm">⊲</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mbin amsrm">⊲</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin ><span class=mbin >+</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class=mord ><span class="mord mathdefault">b</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class="mbin amsrm">⊲</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class=mclose >)</span><span class=mord >.</span></span><span class=tag ><span class=strut  style="height:1.051892em;vertical-align:-0.25em;"></span><span class="mord text"><span class=mord >(</span><span class=mord ><span class=mord >d</span><span class=mord >i</span><span class=mord >s</span><span class=mord >t</span><span class=mord >r</span><span class=mord >-</span><span class=mord >a</span><span class=mord >c</span><span class=mord >t</span></span><span class=mord >)</span></span></span></span></span></span>
<p>This construction of monoids <code>sdpl&#40;*′, ⊳, &#43;′&#41;</code> and <code>sdpr&#40;*′, ⊲, &#43;′&#41;</code> are called <a href="https://en.wikipedia.org/wiki/Semidirect_product"><em>semidirect product</em></a><sup id="fnref:semiassociative"><a href="#fndef:semiassociative" class=fnref >[4]</a></sup>.</p>
<p><table class=fndef  id="fndef:semigroupaction">
    <tr>
        <td class=fndef-backref ><a href="#fnref:semigroupaction">[3]</a>
        <td class=fndef-content >It may be easier to find the resources on <a href="https://en.wikipedia.org/wiki/Semigroup_action">semigroup action</a>. A monoid action is simply a semigroup action that is also a monoid.
    
</table>
 <table class=fndef  id="fndef:semiassociative">
    <tr>
        <td class=fndef-backref ><a href="#fnref:semiassociative">[4]</a>
        <td class=fndef-content ><a href="#kogge1973">Kogge and Stone &#40;1973&#41;</a> and <a href="#blelloch1990">Blelloch &#40;1990&#41;</a> use the term <em>semiassociative</em> for describing the property required for the function <code>⊲</code>.
    
</table>
 As an aside, observe that more &quot;obvious&quot; way to combine two monoids &#40;i.e., direct product&#41;</p>
<pre><code class=language-julia >prodop&#40;⊗₁, ⊗₂&#41; &#61; &#40;&#40;xa, xb&#41;, &#40;ya, yb&#41;&#41; -&gt; &#40;xa ⊗₁ ya, xb ⊗₂ yb&#41;

mapreduce&#40;x -&gt; &#40;x, x&#41;, prodop&#40;&#43;, *&#41;, 1:10; init &#61; &#40;0, 1&#41;&#41;  # example</code></pre>
<pre><code class=plaintext >(55, 3628800)</code></pre>
<p>is a special case of semidirect product with trivial &quot;do-nothing&quot; actions <code>a ⊳ b
&#61; b</code> or <code>b ⊲ a &#61; b</code>.</p>
<h2 id=order-preserving_unique ><a href="#order-preserving_unique" class=header-anchor >Order-preserving <code>unique</code></a></h2>
<p>Julia&#39;s <a href="https://docs.julialang.org/en/v1/base/collections/#Base.unique"><code>unique</code></a> function returns a vector of unique element in the input collection while preserving the order that the elements appear in the input.  To parallelize this function, we track the unique elements in a set and also keep the elements in a vector to maintain the ordering. When combining two solutions, we need to filter out elements in the right chunk if they already appear in the left chunk. This can be implemented by using <code>setdiff</code> for the left action on the vector.</p>
<pre><code class=language-julia >function vector_unique&#40;xs&#41;
    singletons &#61; &#40;&#40;Set&#40;&#91;x&#93;&#41;, &#91;x&#93;&#41; for x in xs&#41;
    monoid &#61; sdpl&#40;union, &#40;a, b&#41; -&gt; setdiff&#40;b, a&#41;, vcat&#41;
    return last&#40;reduce&#40;monoid, singletons&#41;&#41;
end</code></pre>
<p>Example:</p>
<pre><code class=language-julia >vector_unique&#40;&#91;1, 2, 1, 3, 1, 2, 1&#93;&#41;</code></pre>
<pre><code class=plaintext >3-element Vector{Int64}:
 1
 2
 3</code></pre>
<h2 id=most_nested_position_of_parentheses ><a href="#most_nested_position_of_parentheses" class=header-anchor >Most nested position of parentheses</a></h2>
<p>Using the general form of semidirect product, we can compute the maximum depth of parentheses and the corresponding index &#40;&quot;key&quot;&#41;. It can be done with a function <code>maxpair</code> that keeps track of the maximum value and the index in the second monoid. The action <code>shiftvalue</code> can be used to shift the value but not the index:</p>
<pre><code class=language-julia >maxpair&#40;&#40;i, x&#41;, &#40;j, y&#41;&#41; &#61; y &gt; x ? &#40;j, y&#41; : &#40;i, x&#41;
shiftvalue&#40;d, &#40;i, x&#41;&#41; &#61; &#40;i, d &#43; x&#41;

function findmax_parentheses&#40;increments&#41;
    singletons &#61; &#40;&#40;x, &#40;i, x&#41;&#41; for &#40;i, x&#41; in pairs&#40;increments&#41;&#41;
    monoid &#61; sdpl&#40;&#43;, shiftvalue, maxpair&#41;
    return reduce&#40;monoid, singletons&#41;&#91;2&#93;
end

findmax_parentheses&#40;increments&#41;</code></pre>
<pre><code class=plaintext >(9, 5)</code></pre>
<p>&#40;Compare this result with <a href="#maxdepth">the first section</a>.&#41;</p>
<p>In the above example, we assumed that the key &#40;position/index&#41; is cheap to compute.  However, we may need to use reduction to compute the key as well. For example, the input may be a UTF-8 string and we need the number of characters &#40;code points&#41; as the key. Another situation that this is requried is when processsing newline delimited strings and we need the line column &#40;and/or the line number&#41; as the key. We can compute the index on-the-fly by <strong>applying <code>sdpl</code> twice</strong>.  The &quot;inner&quot; application is the monoid used in the <code>findmax_parentheses</code> function above. The &quot;outer&quot; application of <code>sdpl</code> is used to for 1️⃣ counting the processed number of elemetns and 2️⃣ shifting the index using the left action:</p>
<pre><code class=language-julia >shiftindex&#40;n, &#40;d, &#40;i, x&#41;&#41;&#41; &#61; &#40;d, &#40;n &#43; i, x&#41;&#41;
#                                 ~~~~~
#          shift the index i by the number n of processed elements

function findmax_parentheses_relative&#40;increments&#41;
    singletons &#61; &#40;&#40;1, &#40;x, &#40;1, x&#41;&#41;&#41; for x in increments&#41;
    #              |       |
    #              |      the index of the maximum element in a singleton collection
    #             the number of elements in a singleton collection

    monoid &#61; sdpl&#40;&#43;, shiftindex, sdpl&#40;&#43;, shiftvalue, maxpair&#41;&#41;
    #             ~  ~.~~~~~~~~  ~~~.~~~~~~~~~~~~~~~~~~~~~~~~
    #             |   |              &#96;-- compute maximum of depths and its index &#40;as above&#41;
    #             |   |
    #             |   &#96;-- 2️⃣ shift the index of right chunk by the size of processed left chunk
    #             |
    #              &#96;-- 1️⃣ compute the size of processed chunk

    return reduce&#40;monoid, singletons&#41;&#91;2&#93;&#91;2&#93;
end

findmax_parentheses_relative&#40;increments&#41;</code></pre>
<pre><code class=plaintext >(9, 5)</code></pre>
<p>Since <code>shiftindex</code> acts only on the index portion of the state of <code>sdpl&#40;&#43;,
shiftvalue, maxpair&#41;</code> and the index does not interact with the other components, it is easy to see that this satisfy the condition for semidirect product.</p>
<div class=test ><div class=test_code ><div class=title >🔬 Test Code</div>
<pre><code class=language-julia ># ...which does not mean we shouldn&#39;t be unit-testing it
    using Test
    @testset begin
        ⊗ &#61; sdpl&#40;&#43;, shiftindex, sdpl&#40;&#43;, shiftvalue, maxpair&#41;&#41;
        prod3&#40;xs&#41; &#61; Iterators.product&#40;xs, xs, xs&#41;
        nfailed &#61; 0
        for &#40;n1, n2, n3&#41; in prod3&#40;1:3&#41;,
                &#40;d1, d2, d3&#41; in prod3&#40;1:3&#41;,
                &#40;i1, i2, i3&#41; in prod3&#40;&#39;a&#39;:&#39;c&#39;&#41;,
                &#40;m1, m2, m3&#41; in prod3&#40;1:3&#41;
            x1 &#61; &#40;n1, &#40;d1, &#40;i1, m1&#41;&#41;&#41;
            x2 &#61; &#40;n2, &#40;d2, &#40;i2, m2&#41;&#41;&#41;
            x3 &#61; &#40;n3, &#40;d3, &#40;i3, m3&#41;&#41;&#41;
            nfailed &#43;&#61; &#33;&#40;x1 ⊗ &#40;x2 ⊗ x3&#41; &#61;&#61; &#40;x1 ⊗ x2&#41; ⊗ x3&#41;
        end
        @test nfailed &#61;&#61; 0
    end</code></pre></div> <div class=test_ok ><div class=title >☑ Pass</div>
<pre><code class=plaintext >Test Summary: | Pass  Total
test set      |    1      1
</code></pre></div></div>
<h2 id=conclusion ><a href="#conclusion" class=header-anchor >Conclusion</a></h2>
<p>Semidirect products appear naturally in reductions where multiple states interact.  It helps us easily derive efficient and intricate parallel programs. Furthermore, even if semidirect product is not required to derive the monoid, it is cumbersom to convince oneself that the given definition and implementation of the monoid indeed satisfy the algebraic requirements.  Decomposing the monoid into simpler &quot;sub-component&quot; monoids and monoid actions makes it easy to reason about such algebraic properties.</p>
<h2 id=references ><a href="#references" class=header-anchor >References</a></h2>
<p></p>
<ul>
<li><p><a id=kogge1973  class=anchor ></a> Kogge, Peter M., and Harold S. Stone. 1973. “A Parallel Algorithm for the Efficient Solution of a General Class of Recurrence Equations.” IEEE Transactions on Computers C–22 &#40;8&#41;: 786–93. <a href="https://doi.org/10.1109/TC.1973.5009159">https://doi.org/10.1109/TC.1973.5009159</a>.</p>

<li><p><a id=blelloch1990  class=anchor ></a> Blelloch, Guy E. “Prefix Sums and Their Applications,” 1990, 26.  <a href="https://kilthub.cmu.edu/articles/journal_contribution/Prefix_sums_and_their_applications/6608579/1">https://kilthub.cmu.edu/articles/journal_contribution/Prefix_sums_and_their_applications/6608579/1</a></p>

<li><p><a id=gorlatch1997  class=anchor ></a> Gorlatch, S., and C. Lengauer. “&#40;De&#41; Composition Rules for Parallel Scan and Reduction.” In Proceedings. Third Working Conference on Massively Parallel Programming Models &#40;Cat. No.97TB100228&#41;, 23–32, 1997. <a href="https://doi.org/10.1109/MPPM.1997.715958">https://doi.org/10.1109/MPPM.1997.715958</a>.</p>

<li><p><a id=chauhan2016  class=anchor ></a> Chauhan, Satvik, Piyush P. Kurur, and Brent A. Yorgey. 2016. “How to Twist Pointers without Breaking Them.” In Proceedings of the 9th International Symposium on Haskell, 51–61. Haskell 2016. New York, NY, USA: Association for Computing Machinery. <a href="https://doi.org/10.1145/2976002.2976004">https://doi.org/10.1145/2976002.2976004</a>.</p>

<li><p><a id=kmett2018  class=anchor ></a> Kmett, Edward. 2018. “There and Back Again.” Presented at the Lambda World, Seattle, USA. <a href="https://www.youtube.com/watch?v&#61;HGi5AxmQUwU">https://www.youtube.com/watch?v&#61;HGi5AxmQUwU</a>.</p>

</ul>
<div style="float: right">
  <small>
  <a href="?test=show" id=show-test-result >#show test results</a>
  </small>
</div>
<div class=page-foot >
  <div class=copyright >
    <a rel=license  href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel=license  href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
  </div>
  <div class=copyright >
    &copy; Takafumi Arakaki. Last modified: January 20, 2022. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div>
    
        



    
    
        <script src="/data-parallelism/previews/PR40/libs/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script>

    
    <script>
      (function() {
        if (window.location.search.includes("?test=show")){
          var list = document.getElementsByClassName("test");
          for (let item of list) {
            item.style.display = "block";
          };
        }
      })()
    </script>